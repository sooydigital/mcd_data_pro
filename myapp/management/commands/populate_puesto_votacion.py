from myapp.models import PuestoVotacion, Municipio, Departamento
from django.core.management.base import BaseCommand

PUESTOS = [
    ["I.E.D. LICEO DEL SUR VICTOR DE LIMA","CALLE 32 No 2-17","11.231678","-74.2156617"],
    ["IED LIC DEL SUR VICTOR DE LIMA SD 2 M.M","CALLE 30 No 4-36","11.2316933","-74.2155302"],
    ["I.E.D JACQUELINE KENNEDY","CARRERA 16 CALLE 35 B ESQUINA MARIA EUGENIA","11.2226264","-74.2063771"],
    ["IED JACQUELINE KENNEDY SD 2 PRE LA CAND.","CALLE 35 CON CARRERA 16 EQUINA B. MARIA EUGENIA","11.2226694","-74.2063444"],
    ["IED JACQUELINE KENNEDY SD 4 PRIM DE MAYO","CALLE 33 CARRERA 16 ANTIGUO IPC","11.2226274","-74.2064694"],
    ["IED JACQUELINE KENNEDY SD 5 MARIA EUG.","CRA 15 No 37 - 41","7.116992","-73.1261298"],
    ["I.E.D.EL PANDO","MANZANA 23 EL PANDO(CL 35 A No. 18-93)","11.2192205","-74.198505"],
    ["IED EL PANDO SEDE 2 JOSE CELEDON GARCIA","CRA 21 No 43-136 VIA GAIRA","11.211863","-74.1922261"],
    ["I.E.D.EL PARQUE","CALLE 40 No.24-05 MZ 30 CASA 13 URBA. EL PARQUE","11.2164447","-74.1859857"],
    ["I.E.D LIBANO","CARRERA 36 No. 44-18 URBANIZACION EL LIBANO","11.2084807","-74.1831785"],
    ["I.E.D.SAN FCO.JAVIER DE GARAGO","CARRERA 72 A No. 27 E-55 BR. GARAGOA","11.2307581","-74.1515961"],
    ["UNIVERSIDAD ANTONIO NARIÑO","CLL 30 No 49-46 TRONCAL DEL CARIBE","11.2213462","-74.1731553"],
    ["UNIVERSIDAD DEL MAGDALENA","CRA 32 No 22-08","11.2262954","-74.1876709"],
    ["IED ONCE DE NOVIEMBRE","CRA 74 No 33-20 B. 11 DE NOVIEMBRE","11.2248585","-74.1521327"],
    ["IED EL LIBANO SEDE 02","CLL 48 CON 26B","",""],
    ["IED 20 DE OCTUBRE SEDE 1","CLL 33 No 87 -12","11.2297877","-74.1435874"],
    ["I.E.D. NORMAL SUPERIOR SAN PEDRO","CRA.35 No.29-280 AL LADO DE LA QUINTA DE SAN PEDRO","11.2265865","-74.1756694"],
    ["IED JUAN MAIGUEL DE OSUNA","CRA 35 No 29B-63 SECTOR MAMATOCO","11.2243859","-74.1748309"],
    ["I.E.D.ALUNA MEGA COLEGIO CISNE","CARRERA 66 No. 55-49 VIA MINCA","11.2098133","-74.1622486"],
    ["IED PEDAG. DEL CARIBE SD CIUDAD EQUIDAD","CRA 66 No 50 06 MANZANA 9 CIUDAD EQUIDAD","11.200797","-74.1645002"],
    ["IED SIMON RODRIGUEZ SEDE 01","DIAGONAL 35 No 7-80","11.2283111","-74.1675534"],
    ["I.E.D.HUGO J. BERMUDEZ","CALLE 19 Nº 7-27 CENTRO HISTORICO","11.2418707","-74.208605"],
    ["I.E.D.HUGO J.BERMUDEZ S.LA.ESP","CALLE 24 No. 6 - 37 B. LA ESPERANZA","11.2418347","-74.2086113"],
    ["I.E.D.LICEO SAMARIO","CALLE 27 Nº 7B- 111 TAMINACA","11.2347305","-74.2070293"],
    ["IED ANTONIO NARIÑO SEDE 1","CLL 24 No 1C - 54","11.2391626","-74.2154826"],
    ["LICEO SAMARIO SD.2 BAV.BOSTON","CALLE 28 No. 15 - 87 BAVARIA","11.2331434","-74.2036078"],
    ["IED LICEO CELEDON","AV LIBERTADOR No 14-98","11.2434131","-74.2032735"],
    ["IED LA INDUSTRIAL","CRA 14A No 16-111 BARRIO CUNDI","11.2417409","-74.2005012"],
    ["I.E.D.FCO.DE PAULA SANTANDER","CARRERA 12 Nº 17 A- 76","11.1876843","-74.2205569"],
    ["I.E.D.MAGDALENA","AV LIBERTADOR 17 - 22","11.2417066","-74.1968701"],
    ["IED MAGD SEDE 3 ESCUELA SAN JOSE","CARRERA 17 No. 16 - 48 B. SAN JOSE","112,405,186","-74.1983818"],
    ["IED LICEO EL SABER","CARRERA 21 No 20 - 27","11.2372186","-74.1903608"],
    ["IED MAGDALENA SEDE 2 SANTA CATALINA","CARRERA 18 A No 26 B - 27","11.2333605","-74.1965135"],
    ["I.E.D. RODRIGO BASTIDAS","CALLE 9 C No. 34-100","11.2458846","-74.1751782"],
    ["HOGAR INFANTIL BASTIDAS","CARRERA 34 B No. 10-36","11.2441134","-74.1753765"],
    ["IED RODRIGO DE BASTIDAS SD 17 DE DIC","CLL 8B No 30-50 B.17 DE NOVIEMBRE","11.2463143","-74.1806793"],
    ["I.E.D.NICOLAS BUENAVENTURA","CARRERA 51 No.7B -09 BARRIO LUIS R CALVO","11.245927","-74.1700123"],
    ["I.E.D. ONDAS DEL CARIBE","CRA 53 No 10 A - 21","11.2421528","-74.1690324"],
    ["I.E.D LAURA VICUÑA","CR. 12 Nro.9-04 B. MIRAFLORES","11.2467644","-74.2042158"],
    ["I.E.D.ESC.NORMAL SUP.MARIA AUX","CALLE 9 No. 12 - 05","11.2478051","-74.2038154"],
    ["IED EL CARMEN","CALLE 6 No. 8 -75","11.251268","-74.206024"],
    ["IED RODRIGO GALVAN DE BASTIDAS","DIAG. 32 No 30-38 AV LIBERTADOR","11.2306483","-74.1762585"],
    ["IED PANTANO SEDE 01","CRA 46 No 12 - 05","11.2405406","-74.1734433"],
    ["I.E.D.MADRE LAURA","CARRERA 8 No. 5 - 21 B. PESCAITO","11.2517088","-74.2064854"],
    ["I.E.D.LICEO DEL NORTE","CARRERA 19 No. 7B-41","11.2482507","-74.1932189"],
    ["I.E.D. ALFONSO LOPEZ","CARRERA 21D No. 9B - 36 B. ALFONSO LOPEZ","11.2458433","-74.1894662"],
    ["IED JHON F KENNEDY","CALLE 6 No 6-11","11.2516679","-74.2081903"],
    ["IED LICEO DEL NORTE SEDE 2 MIXTA No 3","CALLE 7 No 16 C -08","11.2494704","-74.197331"],
    ["IED SAN FERNANDO SEDE 01","CLL 4 No 21 E 11","11.2513594","-74.1909066"],
    ["IED OLIVOS SEDE 01","CLL 11 No 21 - 41","11.2446504","-74.1895272"],
    ["IED OLIVOS SEDE 02 JUAN XXIII","CRA 24 No 10A - 63","11.2441726","-74.1869671"],
    ["I.E.D.JOSE LABORDE GNECCO","CARRERA 15 No. 6-24 GAIRA","11.1929433","-74.2242393"],
    ["I.E.D CAMILO TORRES DE GAIRA","CALLE.6 Nro. 10-21 GAIRA","11.1932515","-74.2188241"],
    ["IED CAMILO TORRES DE GAIRA SD ISABEL P.F","CALLE 6 CON CARRERA 11 ESQUINA GAIRA","11.1932425","-74.2188364"],
    ["I.E.D.LA PAZ, MEGA COL. LA PAZ","CALLE 108 ENTRE CARRERAS 10 Y 11","11.1518917","-74.2167009"],
    ["IED CRISTO REY","CLL 147 No 4-47 B. CRISTO REY","11.1290014","-74.2230997"],
    ["SEDE RECREATIVA COOEDUMAG","CALLE 21A CRA 2A ESQUINA, AVENIDA TAMACÁ","11.1923165","-74.2281746"],
    ["IED GABRIELA MISTRAL SD 2 KINDER M AUX","CALLE 14 No 11 - 101","11.1893538","-74.2224584"],
    ["IED JESUS ESPELETA FAJARDO","CARRERA 7 No 116 A - 71 BARRIO LA PAZ","11.1484591","-74.2212913"],
    ["IED SIMON BOLIVAR DE GAIRA SEDE 01","CRA 10 No 18 - 83","11.187562","-74.2171695"],
    ["IED BEATRIZ GUTIERREZ DE VIVES","CLL 13B No 16 - 73","11.1968688","-74.2176743"],
    ["IED DON JACA SEDE BAJA","CLL 188 No 4 -103","11.0981884","-74.2162515"],
    ["IED TEC INEM SIMON BOLIVAR DE MAMATOCO","CLL 29 No 31-480 MAMATOCO","","11.2268044","-74.1710962"],
    ["CARCEL","CALLE 24 NRO 17 -02 B. ALCAZARES","","",""],
    ["IED BONDA SEDE 02 SANTA ANA","CLL 9 No 19 -14","11.2352589","-74.1206405"],
    ["BONDA","IED BONDA CLL 5 No 12A-23 COL AMARILLO","11.2352705","-74.1206734"],
    ["GUACHACA","IED TEC GUACHACA TRON DEL CAR KM42-CLL 2 No 3-21","11.2485607","-73.8369798"],
    ["CALABAZO","SD CALABAZO  IED LA REVUELTA TRON. DEL CAR. KM 21","11.2777731","-73.9414605"],
    ["TAGANGA","CLL 10 No 1-34 SD LA PLAYA - IED TAGANGA","11.2652491","-74.1876517"],
    ["MINCA","CLL 1 N 5-160 IED TEC DE MINCA","11.1430168","-74.1161396"],
    ["LA TAGUA","IED LA TAGUA - CGTO DE MINCA KM 25","",""],
    ["EL CAMPANO","IED AGROINDUSTRIAL SAGRADO CORAZON DE JESUS","11.0882973","-74.0809095"],
    ["IED JULIO JOSE CEBALLOS OSPINO SD 02","TRONCAL DEL CARIBE KM 42 VIA RIOHACHA","11.2619316","-73.7687852"],
    ["IED PALOMINITO","TRONCAL DEL CARIBE KM 71.9 VDA MARQUETALIA","11.2416172","-74.2067828"],
    ["IED MOSQUITO","VEREDA EL MOSQUITO","11.1767027","-74.1918034"],
]


class Command(BaseCommand):
    def handle(self, *args, **options):
        departamento_name = 'MAGDALENA'
        municipio_name = 'SANTA MARTA'

        departamento_object = None
        municipio_object = None

        if not Departamento.objects.filter(name=departamento_name).exists():
            departamento_object = Departamento(name=departamento_name)
            departamento_object.save()

        else:
            departamento_object = Departamento.objects.filter(name=departamento_name).first()

        if not Municipio.objects.filter(name=municipio_name, departamento__name=departamento_name).exists():
            print(">>> Municipio with label: '{}' created".format(municipio_name))
            municipio_object = Municipio(name=municipio_name, departamento=departamento_object)
            municipio_object.save()
        else:
            municipio_object = Municipio.objects.filter(name=municipio_name).first()

        for puesto in PUESTOS:
            clean_puesto = puesto[0].strip()
            address = puesto[1].strip()
            latitude = puesto[2]
            longitude = puesto[3]
            if not PuestoVotacion.objects.filter(name=clean_puesto).exists():
                PuestoVotacion.objects.create(
                    name=clean_puesto,
                    address=address,
                    longitude=longitude,
                    latitude=latitude,
                    departamento=departamento_object,
                    municipio=municipio_object
                )
